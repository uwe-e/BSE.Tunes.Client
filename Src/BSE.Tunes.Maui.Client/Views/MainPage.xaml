<?xml version="1.0" encoding="utf-8" ?>
<bse:TabbedContainerPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                         xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                         xmlns:bse="clr-namespace:BSE.Maui.Controls;assembly=BSE.Maui.Controls"
                         xmlns:controls="clr-namespace:BSE.Tunes.Maui.Client.Controls"
                         xmlns:strings="clr-namespace:BSE.Tunes.Maui.Client.Resources.Strings"
                         xmlns:views="clr-namespace:BSE.Tunes.Maui.Client.Views"
                         xmlns:prism="http://prismlibrary.com"
                         xmlns:ios="clr-namespace:Microsoft.Maui.Controls.PlatformConfiguration.iOSSpecific;assembly=Microsoft.Maui.Controls"
                         xmlns:bseandroid="clr-namespace:BSE.Maui.Controls.PlatformConfiguration.AndroidSpecific;assembly=BSE.Maui.Controls"
                         ios:TabbedPage.TranslucencyMode="Translucent"
                         bseandroid:TabbedContainerPage.IsSwipePagingEnabled="False"
                         NavigationPage.HasNavigationBar="False"
                         BarBackgroundColor="#121212"
                         x:Class="BSE.Tunes.Maui.Client.Views.MainPage">

    <!--
        The IconImageSource values used in the tabs (home.png, albums.png, etc.) are configured at the different content pages.
        This is due to a misbehavior in the current version of Prism,
        where setting IconImageSource directly on PrismNavigationPage tabs does not display the icons as expected.
    TODO: When updating Prism, check if this workaround is still needed. See https://github.com/PrismLibrary/Prism/issues (or internal tracking).
    -->
    <prism:PrismNavigationPage>
        <x:Arguments>
            <views:HomePage/>
        </x:Arguments>
    </prism:PrismNavigationPage>
    <prism:PrismNavigationPage>
        <x:Arguments>
            <views:AlbumsPage/>
        </x:Arguments>
    </prism:PrismNavigationPage>
    <prism:PrismNavigationPage>
        <x:Arguments>
            <views:PlaylistsPage/>
        </x:Arguments>
    </prism:PrismNavigationPage>
    <prism:PrismNavigationPage>
        <x:Arguments>
            <views:SearchPage/>
        </x:Arguments>
    </prism:PrismNavigationPage>
    <prism:PrismNavigationPage>
        <x:Arguments>
            <views:SettingsPage/>
        </x:Arguments>
    </prism:PrismNavigationPage>

    <bse:TabbedContainerPage.BottomView>
        <controls:AudioPlayer HeightRequest="{OnPlatform 160, iOS=60, Android=160}"
                              SelectTrackCommand="{Binding SelectTrackCommand}"
                              SelectTrackCommandParameter="{Binding CurrentTrack}"
                              PlayCommand="{Binding PlayCommand}"
                              PlayNextCommand="{Binding PlayNextCommand}"
                              Track="{Binding CurrentTrack, Mode=TwoWay}"
                              Cover="{Binding CoverSource, Mode=TwoWay}"
                              PlayerState="{Binding PlayerState, Mode=TwoWay}"
                              Progress="{Binding Progress}"/>
    </bse:TabbedContainerPage.BottomView>

</bse:TabbedContainerPage>
